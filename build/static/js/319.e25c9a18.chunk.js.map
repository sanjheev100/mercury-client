{"version":3,"file":"static/js/319.e25c9a18.chunk.js","mappings":"mNAwEA,UAjEgB,WACd,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACQC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,MAESG,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAiB,YACrBC,EAAAA,EAAAA,IAAcN,EAAKO,OAAOC,MAAK,SAACC,GAC9BC,QAAQC,IAAIC,KAAKC,UAAUJ,EAAIK,KAAM,KAAM,IAC3Cf,EAAUU,EAAIK,UAIZC,EAAiB,SAACC,GAAD,OACrB,mBAAOC,UAAU,uBAAjB,WACE,kBAAOA,UAAU,cAAjB,UACE,2BACE,eAAIC,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,yBAGJ,2BACGF,EAAMG,SAASC,KAAI,SAACC,EAAGC,GAAJ,OAClB,2BACE,yBACE,uBAAID,EAAEE,QAAQC,WAEhB,wBAAKH,EAAEE,QAAQE,SACf,wBAAKJ,EAAEK,SACP,wBAAKL,EAAEE,QAAQI,UANRL,YAoBjB,OACE,gBAAKL,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,MAAf,WACE,eAAIA,UAAU,2BAAd,SACGnB,EAAO8B,OAAS,wBAA0B,qBAdnD9B,EAAOsB,KAAI,SAACJ,EAAOM,GAAR,OACT,iBAAaL,UAAU,eAAvB,WACE,SAAC,KAAD,CAAeD,MAAOA,IACrBD,EAAeC,KAFRM","sources":["pages/user/History.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { UserNav, ShowOrderInfo } from '../../components'\r\nimport { getUserOrders } from '../../api/user'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { toast } from 'react-toastify'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst History = () => {\r\n  const [orders, setOrders] = useState([])\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  const navigate = useNavigate()\r\n  useEffect(() => {\r\n    loadUserOrders()\r\n  }, [])\r\n\r\n  const loadUserOrders = () => {\r\n    getUserOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4))\r\n      setOrders(res.data)\r\n    })\r\n  }\r\n\r\n  const showOrderTable = (order) => (\r\n    <table className='table table-bordered'>\r\n      <thead className='thead-light'>\r\n        <tr>\r\n          <th scope='col'>title</th>\r\n          <th scope='col'>price</th>\r\n          <th scope='col'>count</th>\r\n          <th scope='col'>brand</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {order.products.map((p, i) => (\r\n          <tr key={i}>\r\n            <td>\r\n              <b>{p.product.title}</b>\r\n            </td>\r\n            <td>{p.product.price}</td>\r\n            <td>{p.count}</td>\r\n            <td>{p.product.brand}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\n  const showEachOrder = () =>\r\n    orders.map((order, i) => (\r\n      <div key={i} className='m-5 p-3 card'>\r\n        <ShowOrderInfo order={order} />\r\n        {showOrderTable(order)}\r\n      </div>\r\n    ))\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n        <div className='col-md-2'>\r\n          <UserNav />\r\n        </div>\r\n        <div className='col'>\r\n          <h4 className='text-center mytext-white'>\r\n            {orders.length ? 'User Purchase History' : 'No Purchases yet'}\r\n          </h4>\r\n          {showEachOrder()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default History\r\n"],"names":["useState","orders","setOrders","user","useSelector","state","useNavigate","useEffect","loadUserOrders","getUserOrders","token","then","res","console","log","JSON","stringify","data","showOrderTable","order","className","scope","products","map","p","i","product","title","price","count","brand","length"],"sourceRoot":""}