"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[65],{7032:function(e,t,r){r.r(t);var n=r(15861),a=r(29439),o=r(1413),s=r(87757),i=r.n(s),c=r(72791),l=r(51860),u=r(16030),d=r(30577),h=r(6187),m=r(28272),g=r(12576),p=r(43504),f=r(47527),v=r(80184);t.default=function(){var e=(0,u.v9)((function(e){return(0,o.Z)({},e)})).user,t=(0,c.useState)(""),r=(0,a.Z)(t,2),s=r[0],x=r[1],C=(0,c.useState)(!1),j=(0,a.Z)(C,2),b=j[0],N=j[1],O=(0,c.useState)(!1),k=(0,a.Z)(O,2),w=k[0],y=k[1],Z=(0,c.useState)([]),S=(0,a.Z)(Z,2),A=S[0],H=S[1],P=(0,c.useState)([]),E=(0,a.Z)(P,2),R=E[0],B=E[1],T=(0,c.useState)(""),D=(0,a.Z)(T,2),G=D[0],L=D[1],F=(0,c.useState)(""),Y=(0,a.Z)(F,2),_=Y[0],I=Y[1];(0,c.useEffect)((function(){q(),z()}),[]);var q=function(){(0,h.CP)().then((function(e){H(e.data)})).catch((function(e){d.Am.error("FETCHING CATEGORY ERROR")}))},z=function(){(0,f.zj)().then((function(e){B(e.data)})).catch((function(e){d.Am.error("FETCHING CATEGORY ERROR")}))},J=function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("are you sure wanna delete ".concat(r,"?"))&&(y(),(0,f.m0)(r,e.token).then((function(e){y(!1),d.Am.error("".concat(e.data.name," is Deleted"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),z()})).catch((function(e){y(!1),d.Am.error(e.response.data,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:w?(0,v.jsx)("h4",{className:"text-white text-center",children:"Loading..."}):(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-2",children:(0,v.jsx)(l.TL,{})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsxs)(l.Yb,{children:[(0,v.jsx)(l.CB,{submitHandler:function(t){return t.preventDefault(),!s||s.length<2?d.Am.error("Name must be atleast 2 characters",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):G?(N(!0),void(0,f.wc)({name:s,parent:G},e.token).then((function(e){N(!1),x(""),d.Am.success("".concat(e.data.name," is created"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),z()})).catch((function(e){N(!1),d.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))):d.Am.error("Select the Category",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},name:s,setName:x,buttonloading:b,title:"Create Sub Category"}),s.length>0&&(0,v.jsxs)("div",{className:"form-group mb-2",children:[(0,v.jsx)("label",{children:(0,v.jsx)("strong",{style:{color:"white"},children:"Select Category"})}),(0,v.jsxs)("select",{required:!0,name:"category",className:"form-control",onChange:function(e){return L(e.target.value)},children:[(0,v.jsx)("option",{children:"---------Please Select Parent--------"}),A&&A.length>0&&(null===A||void 0===A?void 0:A.map((function(e){return(0,v.jsx)("option",{value:e._id,children:e.name},e._id)})))]})]}),(0,v.jsx)(l.JX,{keyword:_,handleSearchChange:function(e){e.preventDefault(),I(e.target.value.toLowerCase())}}),R.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(_)).map((function(e){return(0,v.jsxs)("div",{className:"alert alert-success",children:[e.name,(0,v.jsx)(m.Z,{placement:"bottom",overlay:(0,v.jsx)(g.Z,{id:"tooltipment",children:"Delete"}),children:(0,v.jsx)("span",{className:"float-end mx-2",children:(0,v.jsx)("i",{className:"fa fa-trash  text-danger","aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){return J(e.slug)}})})}),(0,v.jsx)(m.Z,{placement:"bottom",overlay:(0,v.jsx)(g.Z,{id:"tooltipment",children:"Edit"}),children:(0,v.jsx)(p.rU,{to:"/admin/subcategory/".concat(e.slug),className:"float-end mx-2",children:(0,v.jsx)("i",{className:"fa fa-pencil text-primary ","aria-hidden":"true"})})})]},e._id)}))]})})]})})})}}}]);
//# sourceMappingURL=65.1e2bb3a7.chunk.js.map