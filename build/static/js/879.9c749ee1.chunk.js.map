{"version":3,"file":"static/js/879.9c749ee1.chunk.js","mappings":"kNAwGA,UA9FuB,WACrB,IAAMA,GAASC,EAAAA,EAAAA,MAATD,KACEE,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,KAEFG,GAAWC,EAAAA,EAAAA,MAEjB,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0CF,EAAAA,EAAAA,WAAS,GAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAe,WACnBF,GAAW,IACXG,EAAAA,EAAAA,IAAYhB,GAAMiB,MAAK,SAACC,GACtBL,GAAW,GACXJ,EAAQS,EAAIC,KAAKX,UAgDrB,OACE,8BACGI,GACC,wCAEA,gBAAKQ,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,MAAf,UACG,KACD,SAAC,KAAD,WACE,SAAC,KAAD,CACEZ,KAAMA,EACNC,QAASA,EACTY,cA7DM,SAACC,GAGrB,GAFAA,EAAEC,kBAEGf,GAAQA,EAAKgB,OAAS,EACzB,OAAOC,EAAAA,GAAAA,MAAA,oCAAiD,CACtDC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGdtB,GAAiB,IACjBuB,EAAAA,EAAAA,IAAelC,EAAM,CAAEQ,KAAAA,GAAQN,EAAKiC,OACjClB,MAAK,SAACC,GACLP,GAAiB,GACjBF,EAAQ,IACRgB,EAAAA,GAAAA,QAAA,UAAiBP,EAAIC,KAAKX,KAA1B,eAA6C,CAC3CkB,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEZ5B,GAAU,MAGX+B,OAAM,SAACC,GACN1B,GAAiB,GACjBc,EAAAA,GAAAA,MAAYY,EAAIC,SAASnB,KAAM,CAC7BO,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,QAsBFvB,cAAeA","sources":["pages/admin/category/CategoryUpdate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {\r\n  AdminNav,\r\n  FormContainer,\r\n  CategoryUpdateForm,\r\n} from '../../../components'\r\nimport { useSelector } from 'react-redux'\r\nimport { toast } from 'react-toastify'\r\nimport { getCategory, updateCategory } from '../../../api/category'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nconst CategoryUpdate = () => {\r\n  let { slug } = useParams()\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const [name, setName] = useState('')\r\n  const [buttonloading, setButtonLoading] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    loadCategory()\r\n  }, [])\r\n\r\n  const loadCategory = () => {\r\n    setLoading(true)\r\n    getCategory(slug).then((res) => {\r\n      setLoading(false)\r\n      setName(res.data.name)\r\n    })\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!name || name.length < 2) {\r\n      return toast.error(`Name must be atleast 2 characters`, {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      })\r\n    }\r\n    setButtonLoading(true)\r\n    updateCategory(slug, { name }, user.token)\r\n      .then((res) => {\r\n        setButtonLoading(false)\r\n        setName('')\r\n        toast.success(`${res.data.name} is Updated`, {\r\n          position: 'top-right',\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n        navigate(-1)\r\n        // loadAllCategories()\r\n      })\r\n      .catch((err) => {\r\n        setButtonLoading(false)\r\n        toast.error(err.response.data, {\r\n          position: 'top-right',\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <h4>Loading...</h4>\r\n      ) : (\r\n        <div className='container-fluid'>\r\n          <div className='row'>\r\n            <div className='col-md-2'>\r\n              <AdminNav />\r\n            </div>\r\n            <div className='col'>\r\n              {' '}\r\n              <FormContainer>\r\n                <CategoryUpdateForm\r\n                  name={name}\r\n                  setName={setName}\r\n                  submitHandler={submitHandler}\r\n                  buttonloading={buttonloading}\r\n                />\r\n              </FormContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CategoryUpdate\r\n"],"names":["slug","useParams","user","useSelector","state","navigate","useNavigate","useState","name","setName","buttonloading","setButtonLoading","loading","setLoading","useEffect","loadCategory","getCategory","then","res","data","className","submitHandler","e","preventDefault","length","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","updateCategory","token","catch","err","response"],"sourceRoot":""}