{"version":3,"file":"static/js/790.dc041a6b.chunk.js","mappings":"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","sources":["pages/admin/category/CategoryCreate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {\r\n  AdminNav,\r\n  CategoryCreateForm,\r\n  FormContainer,\r\n  LocalSearch,\r\n} from '../../../components'\r\nimport { useSelector } from 'react-redux'\r\nimport { toast } from 'react-toastify'\r\nimport {\r\n  createCategory,\r\n  getCategories,\r\n  removeCategory,\r\n} from '../../../api/category'\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CategoryCreate = () => {\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  const [name, setName] = useState('')\r\n  const [buttonloading, setButtonLoading] = useState(false)\r\n  //   const [show, setShow] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [categories, setCategories] = useState([])\r\n  //search while filter\r\n  const [keyword, setKeyword] = useState('')\r\n\r\n  useEffect(() => {\r\n    loadAllCategories()\r\n  }, [])\r\n\r\n  const loadAllCategories = () => {\r\n    getCategories()\r\n      .then((res) => {\r\n        setCategories(res.data)\r\n      })\r\n      .catch((err) => {\r\n        toast.error('FETCHING CATEGORY ERROR')\r\n      })\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!name || name.length < 2) {\r\n      return toast.error(`Name must be atleast 2 characters`, {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      })\r\n    }\r\n    setButtonLoading(true)\r\n    createCategory({ name }, user.token)\r\n      .then((res) => {\r\n        setButtonLoading(false)\r\n        setName('')\r\n        toast.success(`${res.data.name} is created`, {\r\n          position: 'top-right',\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n        loadAllCategories()\r\n      })\r\n      .catch((err) => {\r\n        setButtonLoading(false)\r\n        toast.error(err.response.data, {\r\n          position: 'top-right',\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n      })\r\n  }\r\n\r\n  const handleDelete = async (slug) => {\r\n    if (window.confirm(`are you sure wanna delete ${slug}?`)) {\r\n      setLoading()\r\n      removeCategory(slug, user.token)\r\n        .then((res) => {\r\n          setLoading(false)\r\n          toast.error(`${res.data.name} is Deleted`, {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          })\r\n          loadAllCategories()\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false)\r\n          toast.error(err.response.data, {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault()\r\n    setKeyword(e.target.value.toLowerCase())\r\n  }\r\n\r\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword)\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <h4>Loading...</h4>\r\n      ) : (\r\n        <div className='container-fluid'>\r\n          <div className='row'>\r\n            <div className='col-md-2'>\r\n              <AdminNav />\r\n            </div>\r\n            <div className='col'>\r\n              <FormContainer>\r\n                <CategoryCreateForm\r\n                  submitHandler={submitHandler}\r\n                  name={name}\r\n                  setName={setName}\r\n                  buttonloading={buttonloading}\r\n                  title={'Create Category'}\r\n                />\r\n\r\n                <LocalSearch\r\n                  keyword={keyword}\r\n                  handleSearchChange={handleSearchChange}\r\n                />\r\n                {categories.filter(searched(keyword)).map((c) => (\r\n                  <div key={c._id} className='alert alert-success'>\r\n                    {c.name}\r\n                    <OverlayTrigger\r\n                      placement='bottom'\r\n                      overlay={<Tooltip id='tooltipment'>Delete</Tooltip>}\r\n                    >\r\n                      <span className='float-end mx-2'>\r\n                        <i\r\n                          className='fa fa-trash  text-danger'\r\n                          aria-hidden='true'\r\n                          style={{ cursor: 'pointer' }}\r\n                          //   onClick={() => setShow(true)}\r\n                          onClick={() => handleDelete(c.slug)}\r\n                        ></i>\r\n                      </span>\r\n                    </OverlayTrigger>\r\n\r\n                    <OverlayTrigger\r\n                      placement='bottom'\r\n                      overlay={<Tooltip id='tooltipment'>Edit</Tooltip>}\r\n                    >\r\n                      <Link\r\n                        to={`/admin/category/${c.slug}`}\r\n                        className='float-end mx-2'\r\n                      >\r\n                        <i\r\n                          className='fa fa-pencil text-primary '\r\n                          aria-hidden='true'\r\n                        ></i>\r\n                      </Link>\r\n                    </OverlayTrigger>\r\n                  </div>\r\n                ))}\r\n              </FormContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CategoryCreate\r\n"],"names":["user","useSelector","state","useState","name","setName","buttonloading","setButtonLoading","loading","setLoading","categories","setCategories","keyword","setKeyword","useEffect","loadAllCategories","getCategories","then","res","data","catch","err","toast","handleDelete","slug","window","confirm","removeCategory","token","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","response","className","submitHandler","e","preventDefault","length","createCategory","title","handleSearchChange","target","value","toLowerCase","filter","c","includes","searched","map","placement","overlay","id","style","cursor","onClick","to","_id"],"sourceRoot":""}