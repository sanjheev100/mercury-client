"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[286],{26109:function(e,t,a){a.d(t,{n:function(){return r}});var n=a(96584);var r=function(){var e,t;(0,n.Z)({angle:(e=55,t=125,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)),spread:360,particleCount:1200,origin:{y:.6}})}},58267:function(e,t,a){a.r(t);var n=a(4942),r=a(1413),s=a(29439),i=a(72791),c=a(51860),o=a(26109),u=a(16030),l=a(30577),d=a(37539),h=a(16871),f=a(6187),g=a(47022),p=a(89743),m=a(24849),x=a(2677),b=a(74569),v=a.n(b),Z=a(14257),y=a(80184),j={title:"",description:"",price:"",category:"",subCategory:[],quantity:"",images:[],brand:""};t.default=function(){var e=(0,i.useState)(j),t=(0,s.Z)(e,2),a=t[0],b=t[1],C=(0,i.useState)([]),S=(0,s.Z)(C,2),N=S[0],R=S[1],E=(0,i.useState)(!1),k=(0,s.Z)(E,2),A=k[0],_=k[1],w=(0,i.useState)(!1),T=(0,s.Z)(w,2),O=T[0],F=T[1],G=(0,i.useState)(!1),I=(0,s.Z)(G,2),M=I[0],P=I[1],D=(0,i.useState)([]),L=(0,s.Z)(D,2),U=L[0],H=L[1],Y=(0,i.useState)([]),V=(0,s.Z)(Y,2),q=V[0],z=V[1],K=(0,i.useState)(""),X=(0,s.Z)(K,2),B=X[0],J=X[1],Q=(0,i.useState)([]),W=(0,s.Z)(Q,2),$=W[0],ee=W[1],te=[];$&&$.map((function(e){return te.push(e._id)}));var ae=(0,h.s0)(),ne=(0,h.UO)().slug;(0,i.useEffect)((function(){re(),se()}),[]);var re=function(){(0,f.CP)().then((function(e){H(e.data)})).catch((function(e){l.Am.error("FETCHING CATEGORY ERROR")}))},se=function(){_(!0),(0,d.KL)(ne).then((function(e){_(!1),b((0,r.Z)((0,r.Z)({},a),e.data)),ee(e.data.subCategory),(0,f.Gu)(e.data.category._id).then((function(e){R(e.data)}));var t=[];e.data.subCategory.map((function(e){t.push(e._id)})),z((function(e){return t}))})).catch((function(e){_(!1)}))},ie=(0,i.useState)([]),ce=(0,s.Z)(ie,2),oe=ce[0],ue=ce[1],le=(0,u.v9)((function(e){return(0,r.Z)({},e)})).user;return(0,y.jsx)(y.Fragment,{children:A?(0,y.jsx)("h3",{className:"text-white text-center",children:"Loading"}):(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-2",children:(0,y.jsx)(c.TL,{})}),(0,y.jsxs)("div",{className:"col",children:[(0,y.jsx)(g.Z,{children:(0,y.jsx)(p.Z,{className:"d-flex justify-content-between",children:M?(0,y.jsx)(m.Z,{animation:"border",variant:"danger"}):(0,y.jsx)(y.Fragment,{children:a.images&&a.images.map((function(e){return(0,y.jsx)(x.Z,{className:"mb-3",sm:12,md:6,lg:4,xl:3,children:(0,y.jsxs)("div",{className:"item",style:{position:"relative",paddingTop:"20px",display:"inline-block"},children:[(0,y.jsx)("span",{className:"notify-badge",style:{position:"absolute",right:"-20px",top:"10px",background:"red",textAlign:"center",borderRadius:"30px",color:"white",padding:"5px 10px",fontSize:"20px",cursor:"pointer"},onClick:function(){return t=e.public_id,P(!0),void v().post("".concat("http://64.227.170.130/api","/deleteimage"),{public_id:t},{headers:{authtoken:le?le.token:""}}).then((function(e){P(!1);var n=a.images.filter((function(e){return e.public_id!==t}));b((0,r.Z)((0,r.Z)({},a),{},{images:n}))})).catch((function(e){P(!1),console.log(e)}));var t},children:"X"}),(0,y.jsx)(Z.ZP,{round:!0,src:e.url})]})},e.public_id)}))})})}),(0,y.jsxs)(c.Yb,{children:[(0,y.jsx)("h2",{className:"text-center",style:{color:"white"},children:"PRODUCT UPDATE"}),(0,y.jsx)("br",{}),(0,y.jsx)(c.p0,{values:a,setValues:b,setImageLoader:P})," ",(0,y.jsx)("br",{}),(0,y.jsx)(c.Eh,{handleSubmit:function(e){_(!0),e.preventDefault(),0==oe.length?a.subCategory=te:a.subCategory=oe,a.category=B||a.category._id,(0,d.nM)(ne,a,le.token).then((function(e){_(!1),(0,o.n)(),l.Am.success("".concat(e.data.title," is Updated")),ae(-1)})).catch((function(e){l.Am.error(e.response.data.err)}))},handleChange:function(e){b((0,r.Z)((0,r.Z)({},a),{},(0,n.Z)({},e.target.name,e.target.value)))},setValues:b,values:a,handleCategoryChange:function(e){e.preventDefault(),b((0,r.Z)((0,r.Z)({},a),{},{subCategory:[]})),J(e.target.value),"Please Select"!==e.target.value&&(F(!0),(0,f.Gu)(e.target.value).then((function(e){R(e.data)})).catch((function(e){console.log("ERROR IN FETCHING CATEGORY REFRESH")}))),a.category._id===e.target.value&&(se(),l.Am.error("Same Category Choosed"))},subOptions:N,showSub:O,setField:ue,field:oe,categories:U,arrayofSubIds:q,setArrayofSubIds:z,selectedCategory:B})]})]})]})})})}}}]);
//# sourceMappingURL=286.8980e200.chunk.js.map