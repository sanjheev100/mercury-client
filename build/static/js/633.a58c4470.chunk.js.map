{"version":3,"file":"static/js/633.a58c4470.chunk.js","mappings":"6NA2HA,UAnHa,WACX,OAAuBA,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAA5CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KAERC,GAAWC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MAwDjB,OACE,gBAAKC,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,iBAAKA,UAAU,WAAf,WACE,gBAAIC,MAAO,CAAEC,MAAO,SAApB,UAAgCP,EAAKQ,OAArC,yBAEER,EAAKQ,QAnCb,mBAAOH,UAAU,uBAAjB,WACE,kBAAOA,UAAU,cAAjB,UACE,2BACE,eAAII,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,oBAGA,eAAIE,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,oBAGA,eAAIE,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,oBAGA,eAAIE,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,oBAGA,eAAIE,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,oBAGA,eAAIE,MAAM,MAAMH,MAAO,CAAEC,MAAO,SAAhC,yBAKHP,EAAKU,KAAI,SAACC,GAAD,OACR,SAAC,KAAD,CAAmCC,QAASD,GAAhBA,EAAEE,YAY1B,eAAGP,MAAO,CAAEC,MAAO,SAAnB,sCAC0B,SAAC,KAAD,CAAMO,GAAG,IAAT,sCAM9B,gBAAKT,UAAU,WAAf,UACE,gBAAIC,MAAO,CAAEC,MAAO,SAApB,4BACgB,mBACd,oCACCP,EAAKU,KAAI,SAACK,EAAGC,GAAJ,OACR,0BACE,gBAAIV,MAAO,CAAEC,MAAO,SAApB,UACGQ,EAAEE,MADL,MACeF,EAAEG,MADjB,YAC4BH,EAAEI,MAAQJ,EAAEG,UAFhCF,OAMZ,kBAVF,YAWU,kCA/EThB,EAAKoB,QAAO,SAACC,EAAcC,GAChC,OAAOD,EAAeC,EAAUJ,MAAQI,EAAUH,QACjD,OA8EK,kBACClB,GACC,SAAC,IAAD,CACEK,MAAO,CAAEiB,eAAgB,OAAQhB,MAAO,SACxCiB,SAAUxB,EAAKQ,OAAS,EACxBiB,QAhFQ,YACG,IAAnBxB,EAAKyB,UACPC,EAAAA,GAAAA,MAAY,yDAEZC,EAAAA,EAAAA,IAAS5B,EAAMC,EAAK4B,OACjBC,MAAK,SAACC,GACLC,QAAQC,IAAI,mBAAoBF,GAC5BA,EAAIG,KAAKC,IACXjC,EAAS,gBAGZkC,OAAM,SAACC,GACNL,QAAQC,IAAI,kBAAmBI,GAC/BV,EAAAA,GAAAA,MAAY,+BAgER,kCAQA,SAAC,IAAD,WACE,SAAC,KAAD,CACEb,GAAI,CACFwB,SAAU,SACVvC,MAAO,CAAEwC,KAAM,SAEjBjC,MAAO,CAAEiB,eAAgB,OAAQhB,MAAO,SAL1C","sources":["pages/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { ProductCardInCheckout } from '../components'\r\nimport { userCart } from '../api/user'\r\nimport { toast } from 'react-toastify'\r\nconst Cart = () => {\r\n  const { cart, user } = useSelector((state) => ({ ...state }))\r\n\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const getTotal = () => {\r\n    return cart.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price\r\n    }, 0)\r\n  }\r\n\r\n  const saveOrderToDb = () => {\r\n    if (user.isBlocked === true) {\r\n      toast.error('You are Restricted from placcing Order,Contact Admin')\r\n    } else {\r\n      userCart(cart, user.token)\r\n        .then((res) => {\r\n          console.log('CART DB response', res)\r\n          if (res.data.ok) {\r\n            navigate('/checkout')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log('CART SAVE ERROR', err)\r\n          toast.error('CHECK CONSOLE FOR ERROR')\r\n        })\r\n    }\r\n  }\r\n\r\n  const showCartItems = () => (\r\n    <table className='table table-bordered'>\r\n      <thead className='thead-light'>\r\n        <tr>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Image\r\n          </th>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Title\r\n          </th>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Price\r\n          </th>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Brand\r\n          </th>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Count\r\n          </th>\r\n          <th scope='col' style={{ color: 'white' }}>\r\n            Remove\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      {cart.map((p) => (\r\n        <ProductCardInCheckout key={p._id} product={p} />\r\n      ))}\r\n    </table>\r\n  )\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n        <div className='col-md-8'>\r\n          <h4 style={{ color: 'white' }}>{cart.length} items in the Cart </h4>\r\n\r\n          {!cart.length ? (\r\n            <p style={{ color: 'white' }}>\r\n              No Products in the cart <Link to='/'>Continue Shopping</Link>\r\n            </p>\r\n          ) : (\r\n            showCartItems()\r\n          )}\r\n        </div>\r\n        <div className='col-md-4'>\r\n          <h4 style={{ color: 'white' }}>\r\n            Order Summary <hr />\r\n            <p>Products</p>\r\n            {cart.map((c, i) => (\r\n              <div key={i}>\r\n                <h5 style={{ color: 'white' }}>\r\n                  {c.title} * {c.count} = ₹{c.price * c.count}\r\n                </h5>\r\n              </div>\r\n            ))}\r\n            <hr />\r\n            Total : <b>₹{getTotal()}</b>\r\n            <hr />\r\n            {user ? (\r\n              <Button\r\n                style={{ textDecoration: 'none', color: 'white' }}\r\n                disabled={cart.length < 1}\r\n                onClick={saveOrderToDb}\r\n              >\r\n                Proceed to Checkout\r\n              </Button>\r\n            ) : (\r\n              <Button>\r\n                <Link\r\n                  to={{\r\n                    pathname: '/login',\r\n                    state: { from: 'cart' },\r\n                  }}\r\n                  style={{ textDecoration: 'none', color: 'white' }}\r\n                >\r\n                  Login to Checkout\r\n                </Link>\r\n              </Button>\r\n            )}\r\n          </h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Cart\r\n"],"names":["useSelector","state","cart","user","navigate","useNavigate","useDispatch","className","style","color","length","scope","map","p","product","_id","to","c","i","title","count","price","reduce","currentValue","nextValue","textDecoration","disabled","onClick","isBlocked","toast","userCart","token","then","res","console","log","data","ok","catch","err","pathname","from"],"sourceRoot":""}